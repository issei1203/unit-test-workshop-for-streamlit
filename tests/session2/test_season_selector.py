import pytest
from src.session2 import season_selector

# ====================================================================
# データセット 1: 正常系 (月と期待される季節)
# 目的: 関数内のすべての季節分岐（ifブロック）を網羅する。
# ====================================================================
NORMAL_TEST_CASES = [
    # 冬のテスト（境界値を含む）
    (12, "冬"), # 12月: 冬への境界
    (1, "冬"),  # 1月: 冬の一般例
    (2, "冬"),  # 2月: 冬から春への境界

    # 春のテスト（境界値を含む）
    (3, "春"),  # 3月: 春への境界
    (4, "春"),  # 4月: 春の一般例
    (5, "春"),  # 5月: 春から夏への境界

    # 夏と秋のテストを追加してください
]


# ====================================================================
# テスト関数 1: 正常な入力の検証 (パラメタライズドテスト)
# ====================================================================

@pytest.mark.parametrize("month, expected_season", NORMAL_TEST_CASES)
def test_season_determination_is_correct(month, expected_season):
    """
    NORMAL_TEST_CASES のデータを用いて、季節の判定ロジックを検証する。
    境界値を含むすべての正常なケースが正しく処理されることを確認する。
    """
    actual = season_selector.select_from(month)
    assert actual == expected_season


# ====================================================================
# テスト関数 2: 異常な入力（例外）の検証 (パラメタライズドテスト)
# ====================================================================
def test_raises_value_error_for_invalid_month():
    """
    Pytestの assertRaises の書き方:
    - with pytest.raises(例外クラス) で、例外の発生範囲を指定する。
    - 例外クラス (ValueError) を指定することで、正しい型の例外が発生したことを確認する。
    """
    pass